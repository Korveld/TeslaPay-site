var controller=new ScrollMagic.Controller;function initializeScrollMagic(e,o,n,t,i=0){var r=e.duration;new ScrollMagic.Scene({duration:t||o.scrollHeight-window.innerHeight,triggerElement:n,triggerHook:0,offset:i}).on("progress",o=>{e.currentTime=o.progress*r,e.pause()}).addTo(controller)}function setupVideos(){var e=document.querySelectorAll(".js-video"),o=window.matchMedia("(max-width: 768px)"),n=0;function t(){++n===e.length&&i()}function i(){clearTimeout(r),document.querySelector(".scrollContainer").style.visibility="visible",e.forEach(e=>{$(e).height(void 0!==window.outerHeight?Math.max(window.outerHeight,$(window).height()):$(window).height()-40);var n,t,i=e.closest("section"),r=`#${i.id}`;"video2"===e.id&&(n=500,t=-300),"video3"===e.id&&(t=-300),o.matches&&("video2"===e.id&&(n=400,t=-250),"video3"===e.id&&(t=-100)),initializeScrollMagic(e,i,r,n,t)})}var r=setTimeout(()=>{console.warn("Fallback triggered: Not all videos loaded in time"),i()},5e3);e.forEach(e=>{e.readyState>=2?t():(!function(e){e.play().then(()=>{e.pause()}).catch(e=>{console.error("Error forcing video to load:",e)})}(e),e.addEventListener("loadeddata",t),e.addEventListener("error",t))})}document.addEventListener("DOMContentLoaded",setupVideos),jQuery(function(e){window.matchMedia("(min-width: 767.98px)");var o=window.matchMedia("(max-width: 768px)"),n=(new ScrollMagic.Scene({triggerElement:"#trigger_animate_icon_1",duration:400}).setTween("#animate_icon_1",{scale:1}).addTo(controller),new ScrollMagic.Scene({triggerElement:"#trigger_animate_icon_2",duration:400,offset:0}).setTween("#animate_icon_2",{rotation:0}).addTo(controller),45);o.matches&&(n=25),e(".js-animate-card").each(function(e,o){new ScrollMagic.Scene({triggerElement:"#trigger_animate_icon_3",duration:400,offset:0}).setTween(o,{x:n*(e+1)}).addTo(controller)})}),jQuery(function(e){e.cookie("cookiesAccepted")||(e("#cookie-banner").show(),e(".cookie-banner__overflow").show()),e(".cookie-banner__close").on("click",function(o){o.preventDefault(),e("#cookie-banner").fadeOut(300)}),e(".cookie-banner__overflow").on("click",function(o){o.preventDefault(),e("#cookie-banner").fadeOut(300),e(this).fadeOut(300)}),e("#accept-cookies").on("click",function(o){o.preventDefault(),e.cookie("cookiesAccepted","true",{expires:365,path:"/"}),e("#cookie-banner").fadeOut(300),e(".cookie-banner__overflow").fadeOut(300)}),e("#reject-cookies").on("click",function(o){o.preventDefault(),e.cookie("cookiesAccepted","false",{expires:365,path:"/"}),e("#cookie-banner").fadeOut(300),e(".cookie-banner__overflow").fadeOut(300)})}),jQuery(function(e){e(".faq__question").on("click",function(o){o.preventDefault(),e(this).parent().toggleClass("is-open"),e(this).next().slideToggle(500)})}),jQuery(function(e){e(".get-app-btn").fancybox({afterShow:function(o,n){e("#phoneFormModal").show(),e(".phone-form__success").hide()}})}),jQuery(function(e){window.matchMedia("(min-width: 767.98px)");var o=window.matchMedia("(max-width: 768px)");e(".lang-switcher__current").on("click",function(n){n.preventDefault(),e(this).parent().find(".lang-switcher__dropdown").fadeToggle(300),e(this).toggleClass("is-active"),o.matches&&e(".lang-switcher__overflow").fadeIn(300)}),e(".lang-switcher__overflow").on("click",function(o){e(".lang-switcher .lang-switcher__current").removeClass("is-active"),e(".lang-switcher .lang-switcher__dropdown").fadeOut(300),e(this).fadeOut(300)}),e(document).on("click",function(o){e(o.target).hasClass("lang-switcher")||0!==e(o.target).parents(".lang-switcher").length||(e(".lang-switcher .lang-switcher__current").removeClass("is-active"),e(".lang-switcher .lang-switcher__dropdown").fadeOut(300),e(".lang-switcher__overflow").fadeOut(300))})}),$(".scrollContainer").on("scroll load",function(){$(this).scrollTop()>0?$(".header").addClass("is-sticky"):$(".header").removeClass("is-sticky")}),jQuery(function(e){e("#phoneFormModal").validate({errorElement:"span",errorClass:"not-valid-tip",rules:{phone_qr:{required:!0}},messages:{},errorPlacement:function(e,o){o.parents(".phone-form__input-wrapper").append(e)},submitHandler:function(o){e(o)[0].reset(),e(o).hide(),e(o).siblings(".phone-form__success").show()}}),e("#phoneFormModal").submit(function(o){e(this).valid()})}),jQuery(function(e){});var scrollContainer=document.getElementById("scrollContainer");document.addEventListener("DOMContentLoaded",function(e){var o=sessionStorage.getItem("scrollpos");o&&(scrollContainer.scrollTo(0,o),sessionStorage.removeItem("scrollpos"))}),window.addEventListener("beforeunload",function(e){sessionStorage.setItem("scrollpos",scrollContainer.scrollTop)});