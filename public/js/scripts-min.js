var controller=new ScrollMagic.Controller;function initializeScrollMagic(e,o,t,n,i=0){var r=0,c=!1;function a(){e.currentTime=e.duration*r,console.log("Current time: ",e.currentTime),c=!1}new ScrollMagic.Scene({duration:n||o.scrollHeight-window.innerHeight,triggerElement:t,triggerHook:0,offset:i}).on("progress",o=>{console.log("Progress:",o.progress,"Duration:",e.duration),e.duration>0?(r=o.progress,c||(c=!0,requestAnimationFrame(a))):console.warn("Video duration is 0, cannot set currentTime"),e.pause()}).addTo(controller)}function setupVideos(){var e=document.querySelectorAll(".js-video"),o=window.matchMedia("(max-width: 768px)"),t=0;function n(){++t===e.length&&i()}function i(){clearTimeout(r),document.querySelector(".scrollContainer").style.visibility="visible",e.forEach(e=>{$(e).height(window.outerHeight-40);var t,n,i=e.closest("section"),r=`#${i.id}`;"video2"===e.id&&(t=500,n=-300),"video3"===e.id&&(n=-300),o.matches&&("video2"===e.id&&(t=500,n=-450),"video3"===e.id&&(n=-100)),initializeScrollMagic(e,i,r,t,n)})}var r=setTimeout(()=>{console.warn("Fallback triggered: Not all videos loaded in time"),i()},5e3);e.forEach(e=>{e.readyState>=2?n():(!function(e){e.play().then(()=>{console.log("video loaded:",e),e.pause()}).catch(e=>{console.error("Error forcing video to load:",e)})}(e),e.addEventListener("loadeddata",n),e.addEventListener("error",n))})}document.addEventListener("DOMContentLoaded",setupVideos),jQuery(function(e){var o=window.matchMedia("(min-width: 767.98px)"),t=(window.matchMedia("(max-width: 768px)"),document.getElementById("scroll-video")),n=0,i=!1;function r(){t.currentTime=t.duration*n,i=!1}if(o.matches&&new ScrollMagic.Scene({triggerElement:".video-section",duration:970,triggerHook:0}).on("progress",function(e){n=e.progress,i||(i=!0,requestAnimationFrame(r))}).addTo(controller),o.matches){var c=gsap.to(".video-section__video",{y:"-86",width:226,height:142,duration:1,borderRadius:8,ease:"power1.inOut"});new ScrollMagic.Scene({triggerElement:".video-section",triggerHook:0,offset:700,duration:1200}).setTween(c).on("end",function(e){}).addTo(controller)}else{c=gsap.to(".video-section__video",{y:"2",width:112,height:72,duration:1,borderRadius:4,ease:"power1.inOut"});new ScrollMagic.Scene({triggerElement:".video-section",triggerHook:0,offset:0,duration:900}).setTween(c).addTo(controller)}o.matches?new ScrollMagic.Scene({triggerElement:".video-section",triggerHook:0,offset:1900,duration:300}).setTween(gsap.to(".video-section__logo, .video-section__mc-logo",{opacity:1,ease:"power1.inOut"})).addTo(controller):new ScrollMagic.Scene({triggerElement:".video-section",triggerHook:0,offset:900,duration:200}).setTween(gsap.to(".video-section__logo, .video-section__mc-logo",{opacity:1,ease:"power1.inOut"})).addTo(controller),o.matches?new ScrollMagic.Scene({triggerElement:".phone-section",duration:200,triggerHook:0,offset:650}).setTween(gsap.to(".phone-section__img-main-done",{opacity:1,ease:"power1.inOut"})).addTo(controller):new ScrollMagic.Scene({triggerElement:".phone-section",duration:200,triggerHook:0,offset:300}).setTween(gsap.to(".phone-section__img-main-done",{opacity:1,ease:"power1.inOut"})).addTo(controller),o.matches,new ScrollMagic.Scene({triggerElement:".phone-section",duration:500,triggerHook:0,offset:-400}).setTween(gsap.to(".phone-section__img-main",{bottom:0,opacity:1,ease:"power1.inOut"})).addTo(controller),o.matches?new ScrollMagic.Scene({triggerElement:".phone-section",duration:500,triggerHook:0,offset:-200}).setTween(gsap.to(".phone-section__top-content",{opacity:1,ease:"power1.inOut"})).addTo(controller):new ScrollMagic.Scene({triggerElement:".phone-section",duration:500,triggerHook:0,offset:-100}).setTween(gsap.to(".phone-section__top-content",{opacity:1,ease:"power1.inOut"})).addTo(controller)}),jQuery(function(e){var o=window.matchMedia("(min-width: 767.98px)");window.matchMedia("(max-width: 768px)");if(o.matches){new ScrollMagic.Scene({triggerElement:"#trigger_animate_icon_1",duration:400}).setTween("#animate_icon_1",{scale:1}).addTo(controller),new ScrollMagic.Scene({triggerElement:"#trigger_animate_icon_2",duration:400,offset:0}).setTween("#animate_icon_2",{rotation:0}).addTo(controller);e(".js-animate-card").each(function(e,o){new ScrollMagic.Scene({triggerElement:"#trigger_animate_icon_3",duration:400,offset:0}).setTween(o,{x:45*(e+1)}).addTo(controller)})}}),jQuery(function(e){e.cookie("cookiesAccepted")||(e("#cookie-banner").show(),e(".cookie-banner__overflow").show()),e(".cookie-banner__close").on("click",function(o){o.preventDefault(),e("#cookie-banner").fadeOut(300)}),e(".cookie-banner__overflow").on("click",function(o){o.preventDefault(),e("#cookie-banner").fadeOut(300),e(this).fadeOut(300)}),e("#accept-cookies").on("click",function(o){o.preventDefault(),e.cookie("cookiesAccepted","true",{expires:365,path:"/"}),e("#cookie-banner").fadeOut(300),e(".cookie-banner__overflow").fadeOut(300)}),e("#reject-cookies").on("click",function(o){o.preventDefault(),e.cookie("cookiesAccepted","false",{expires:365,path:"/"}),e("#cookie-banner").fadeOut(300),e(".cookie-banner__overflow").fadeOut(300)})}),jQuery(function(e){e(".faq__question").on("click",function(o){o.preventDefault(),e(this).parent().toggleClass("is-open"),e(this).next().slideToggle(500)})}),$(".scrollContainer").on("scroll load",function(){$(this).scrollTop()>0?$(".header").addClass("is-sticky"):$(".header").removeClass("is-sticky")}),jQuery(function(e){window.matchMedia("(min-width: 767.98px)");var o=window.matchMedia("(max-width: 768px)");e(".lang-switcher__current").on("click",function(t){t.preventDefault(),e(this).parent().find(".lang-switcher__dropdown").fadeToggle(300),e(this).toggleClass("is-active"),o.matches&&e(".lang-switcher__overflow").fadeIn(300)}),e(".lang-switcher__overflow").on("click",function(o){e(".lang-switcher .lang-switcher__current").removeClass("is-active"),e(".lang-switcher .lang-switcher__dropdown").fadeOut(300),e(this).fadeOut(300)}),e(document).on("click",function(o){e(o.target).hasClass("lang-switcher")||0!==e(o.target).parents(".lang-switcher").length||(e(".lang-switcher .lang-switcher__current").removeClass("is-active"),e(".lang-switcher .lang-switcher__dropdown").fadeOut(300),e(".lang-switcher__overflow").fadeOut(300))})}),jQuery(function(e){}),jQuery(function(e){e("#phoneFormModal").validate({errorElement:"span",errorClass:"not-valid-tip",rules:{phone_qr:{required:!0}},messages:{},errorPlacement:function(e,o){o.parents(".phone-form__input-wrapper").append(e)},submitHandler:function(o){e(o)[0].reset(),e(o).hide(),e(o).siblings(".phone-form__success").show()}}),e("#phoneFormModal").submit(function(o){e(this).valid()})}),jQuery(function(e){e(".get-app-btn").fancybox({afterShow:function(o,t){e("#phoneFormModal").show(),e(".phone-form__success").hide()}})});var scrollContainer=document.getElementById("scrollContainer");document.addEventListener("DOMContentLoaded",function(e){var o=sessionStorage.getItem("scrollpos");o&&(scrollContainer.scrollTo(0,o),sessionStorage.removeItem("scrollpos"))}),window.addEventListener("beforeunload",function(e){sessionStorage.setItem("scrollpos",scrollContainer.scrollTop)});