var controller=new ScrollMagic.Controller;function initializeScrollMagic(e,o,t,n,i=0,r){var a,c=window.matchMedia("(max-width: 768px)"),s=window.matchMedia("(min-width: 767.98px)");n=n||o.scrollHeight,c.matches&&(n=n||window.outerHeight),$(e).height(r||window.outerHeight-40),e.controls=!1,e.addEventListener("play",function(){this.controls=!1}),e.addEventListener("pause",function(){this.controls=!1});const l=new ScrollMagic.Scene({duration:n,triggerElement:t,triggerHook:0,offset:i}).on("progress",o=>{"video1"===e.id&&s.matches?(console.log("Progress:",o.progress,"Current time: ",e.currentTime,"Duration:",e.duration),e.duration>0?(a=Math.floor(100*o.progress),e.currentTime=e.duration*a/100):console.warn("Video duration is 0, cannot set currentTime"),e.pause()):"video1"!==e.id&&(console.log("Progress:",o.progress,"Current time: ",e.currentTime,"Duration:",e.duration),e.duration>0?(a=Math.floor(100*o.progress),e.currentTime=e.duration*a/100):console.warn("Video duration is 0, cannot set currentTime"),e.pause())}).addTo(controller);c.matches&&"video1"===e.id&&(l.on("enter",function(){console.log(e.id," enter"),e.pause(),e.currentTime=.1,e.play()}),l.on("leave",function(){console.log(e.id," leave")}))}function setupVideos(){var e=document.querySelectorAll(".js-video"),o=window.matchMedia("(max-width: 768px)"),t=0;function n(){++t===e.length&&i()}function i(){clearTimeout(r),document.querySelector(".scrollContainer").style.visibility="visible",e.forEach(e=>{var t,n,i=e.closest("section"),r=`#${i.id}`;"video2"===e.id&&(t=500,n=-300),"video4"===e.id&&(t=900,n=0),"video4_mobile"===e.id&&(t=400,n=0),o.matches&&("video1"===e.id&&(n=-200),"video2"===e.id&&(t=500,n=-450),e.id),initializeScrollMagic(e,i,r,t,n,void 0)})}var r=setTimeout(()=>{console.warn("Fallback triggered: Not all videos loaded in time"),i()},5e3);e.forEach(e=>{e.readyState>=2?n():(!function(e){e.play().then(()=>{console.log("video loaded:",e),e.pause()}).catch(e=>{console.error("Error forcing video to load:",e)})}(e),e.addEventListener("loadeddata",n),e.addEventListener("error",n))})}jQuery(function(e){setupVideos()}),jQuery(function(e){var o=window.matchMedia("(max-width: 768px)"),t=window.matchMedia("(min-width: 767.98px)"),n=[],i=!1,r=1,a=420,c=e=>`./public/videos/video1/video${e.toString().padStart(3,"0")}.jpg`;function s(){if(!i){i=!0,r=1;var o=setInterval(()=>{r>=a?(clearInterval(o),i=!1):(!function(o){e("#videoSequence1 img").attr("src",n[o])}(r),r++)},30)}}if((()=>{for(let o=1;o<=a;o++)e("<img>").attr("src",c(o)),n.push(c(o))})(),t.matches&&e(".video-sequence-canvas").height(window.outerHeight-40),o.matches&&new ScrollMagic.Scene({triggerElement:"#videoSequence1",duration:0,triggerHook:.5,offset:0}).on("enter",e=>{s()}).addTo(controller),t.matches){var l={curImg:0},d=TweenMax.to(l,.5,{curImg:n.length-1,roundProps:"curImg",repeat:0,immediateRender:!0,ease:Linear.easeNone,onUpdate:function(){e("#videoSequence1 img").attr("src",n[l.curImg])}});new ScrollMagic.Scene({triggerElement:"#videoSequence1",duration:e("#videoSequence1")[0].scrollHeight,triggerHook:0,offset:0}).setTween(d).addTo(controller)}}),jQuery(function(e){var o,t=window.matchMedia("(min-width: 767.98px)"),n=(window.matchMedia("(max-width: 768px)"),document.getElementById("scroll-video"));if(t.matches&&new ScrollMagic.Scene({triggerElement:".video-section",duration:970,triggerHook:0}).on("progress",function(e){o=Math.floor(100*e.progress),n.currentTime=n.duration*o/100}).addTo(controller),t.matches){var i=gsap.to(".video-section__video",{y:"-86",width:226,height:142,duration:1,borderRadius:8,ease:"power1.inOut"});new ScrollMagic.Scene({triggerElement:".video-section",triggerHook:0,offset:700,duration:1200}).setTween(i).on("end",function(e){}).addTo(controller)}else{i=gsap.to(".video-section__video",{y:"2",width:112,height:72,duration:1,borderRadius:4,ease:"power1.inOut"});new ScrollMagic.Scene({triggerElement:".video-section",triggerHook:0,offset:0,duration:900}).setTween(i).addTo(controller)}t.matches?new ScrollMagic.Scene({triggerElement:".video-section",triggerHook:0,offset:1900,duration:300}).setTween(gsap.to(".video-section__logo, .video-section__mc-logo",{opacity:1,ease:"power1.inOut"})).addTo(controller):new ScrollMagic.Scene({triggerElement:".video-section",triggerHook:0,offset:900,duration:200}).setTween(gsap.to(".video-section__logo, .video-section__mc-logo",{opacity:1,ease:"power1.inOut"})).addTo(controller),t.matches?new ScrollMagic.Scene({triggerElement:".phone-section",duration:200,triggerHook:0,offset:650}).setTween(gsap.to(".phone-section__img-main-done",{opacity:1,ease:"power1.inOut"})).addTo(controller):new ScrollMagic.Scene({triggerElement:".phone-section",duration:200,triggerHook:0,offset:300}).setTween(gsap.to(".phone-section__img-main-done",{opacity:1,ease:"power1.inOut"})).addTo(controller),t.matches,new ScrollMagic.Scene({triggerElement:".phone-section",duration:500,triggerHook:0,offset:-400}).setTween(gsap.to(".phone-section__img-main",{bottom:0,opacity:1,ease:"power1.inOut"})).addTo(controller),t.matches?new ScrollMagic.Scene({triggerElement:".phone-section",duration:500,triggerHook:0,offset:-200}).setTween(gsap.to(".phone-section__top-content",{opacity:1,ease:"power1.inOut"})).addTo(controller):new ScrollMagic.Scene({triggerElement:".phone-section",duration:500,triggerHook:0,offset:-100}).setTween(gsap.to(".phone-section__top-content",{opacity:1,ease:"power1.inOut"})).addTo(controller)}),jQuery(function(e){var o=window.matchMedia("(min-width: 767.98px)");window.matchMedia("(max-width: 768px)");if(o.matches){new ScrollMagic.Scene({triggerElement:"#trigger_animate_icon_1",duration:400}).setTween("#animate_icon_1",{scale:1}).addTo(controller),new ScrollMagic.Scene({triggerElement:"#trigger_animate_icon_2",duration:400,offset:0}).setTween("#animate_icon_2",{rotation:0}).addTo(controller);e(".js-animate-card").each(function(e,o){new ScrollMagic.Scene({triggerElement:"#trigger_animate_icon_3",duration:400,offset:0}).setTween(o,{x:45*(e+1)}).addTo(controller)})}}),jQuery(function(e){e.cookie("cookiesAccepted")||(e("#cookie-banner").show(),e(".cookie-banner__overflow").show()),e(".cookie-banner__close").on("click",function(o){o.preventDefault(),e("#cookie-banner").fadeOut(300)}),e(".cookie-banner__overflow").on("click",function(o){o.preventDefault(),e("#cookie-banner").fadeOut(300),e(this).fadeOut(300)}),e("#accept-cookies").on("click",function(o){o.preventDefault(),e.cookie("cookiesAccepted","true",{expires:365,path:"/"}),e("#cookie-banner").fadeOut(300),e(".cookie-banner__overflow").fadeOut(300)}),e("#reject-cookies").on("click",function(o){o.preventDefault(),e.cookie("cookiesAccepted","false",{expires:365,path:"/"}),e("#cookie-banner").fadeOut(300),e(".cookie-banner__overflow").fadeOut(300)})}),jQuery(function(e){e(".faq__question").on("click",function(o){o.preventDefault(),e(this).parent().hasClass("is-open")?(e(this).parent().removeClass("is-open"),e(this).next().slideUp({duration:500,start:function(){e(this).find(".faq__answer-wrapper").css("opacity","0")}})):(e(this).parent().addClass("is-open"),e(this).next().slideDown({duration:500,progress:function(o,t,n){n<100&&e(this).find(".faq__answer-wrapper").css("opacity","1")}}))})}),jQuery(function(e){let o;e(".get-app-btn").fancybox({afterShow:function(t,n){e("#phoneFormModal").show(),e(".phone-form__success").hide();const i=e(".phone-form__input input");o=window.intlTelInput(i[0],{initialCountry:"us",loadUtils:()=>import("/public/libs/utils.js"),separateDialCode:!0}),e("#phoneFormModal").validate({errorElement:"span",errorClass:"not-valid-tip",rules:{phone_qr:{required:!0,intlTelNumber:!0}},messages:{},errorPlacement:function(e,o){o.parents(".phone-form__input-wrapper").append(e)},submitHandler:function(t){var n={phone:o.getNumber()};console.log(n),e(t)[0].reset(),e(t).hide(),e(t).siblings(".phone-form__success").show()}}),e("#phoneFormModal").submit(function(o){e(this).valid()}),jQuery.validator.addMethod("intlTelNumber",function(e,t){return this.optional(t)||o.isValidNumber()},"Please enter a valid phone number")},afterClose:function(){o.destroy()}})}),$(".scrollContainer").on("scroll load",function(){$(this).scrollTop()>0?$(".header").addClass("is-sticky"):$(".header").removeClass("is-sticky")}),jQuery(function(e){window.matchMedia("(min-width: 767.98px)");var o=window.matchMedia("(max-width: 768px)");e(".lang-switcher__current").on("click",function(t){t.preventDefault(),e(this).parent().find(".lang-switcher__dropdown").fadeToggle(300),e(this).toggleClass("is-active"),o.matches&&e(".lang-switcher__overflow").fadeIn(300)}),e(".lang-switcher__overflow").on("click",function(o){e(".lang-switcher .lang-switcher__current").removeClass("is-active"),e(".lang-switcher .lang-switcher__dropdown").fadeOut(300),e(this).fadeOut(300)}),e(document).on("click",function(o){e(o.target).hasClass("lang-switcher")||0!==e(o.target).parents(".lang-switcher").length||(e(".lang-switcher .lang-switcher__current").removeClass("is-active"),e(".lang-switcher .lang-switcher__dropdown").fadeOut(300),e(".lang-switcher__overflow").fadeOut(300))}),e(".lang-switcher__dropdown-item").on("mouseenter",function(o){e(this).siblings(".lang-switcher__dropdown-item").addClass("is-disabled")}),e(".lang-switcher__dropdown-item").on("mouseleave",function(o){e(this).siblings(".lang-switcher__dropdown-item").removeClass("is-disabled")})}),jQuery(function(e){e(".menu-burger").on("click",function(o){o.preventDefault(),e(this).toggleClass("is-active"),e(".menu").fadeToggle({duration:300,start:function(){e(this).css("display","flex")}})})}),jQuery(function(e){}),jQuery(function(e){window.matchMedia("(min-width: 767.98px)").matches&&e(".js-plan-text").length&&e(".js-plan-text").equalHeights()}),jQuery(function(e){e(".js-scroll-to").on("click",function(o){o.preventDefault();var t=e("#scrollContainer"),n=e(e(e(this).attr("href")));t.scrollTop(n.offset().top-t.offset().top+t.scrollTop())})});var scrollContainer=document.getElementById("scrollContainer");document.addEventListener("DOMContentLoaded",function(e){var o=sessionStorage.getItem("scrollpos");o&&(scrollContainer.scrollTo(0,o),sessionStorage.removeItem("scrollpos"))}),window.addEventListener("beforeunload",function(e){sessionStorage.setItem("scrollpos",scrollContainer.scrollTop)});